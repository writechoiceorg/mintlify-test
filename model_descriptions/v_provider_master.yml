version: 2

models:
  - name: v_provider_master
    description: > 
      This view contains clinical provider/source information.
    columns:
      - name: arc_provider_id
        description: >
          QDW provider ID; primary key to this table. This is generated by Arcadia.
      - name: provider_id
        description: >
          QDW provider ID in integer format; an alternate primary key generated by Arcadia.
          This ID is not present on other clinical tables. To join to other clinical tables, use arc_provider_id.
      - name: orig_provider_id
        description: >
          ID of the provider row in the Staging database; generally this is also the ID of the row in the clinical
          data source from which this record was derived.
      - name: orig_provider_user_id
        description: >
          Source system provider user ID; is generally null.
      - name: provider_first_name
        description: >
          First name of the provider. When the provider is an organization rather than an individual,
          this value may be null or may contain part or all of the organization name,
          e.g 'Highline Medical Center' or 'Emergency'.
      - name: provider_last_name
        description: >
          Last name of the provider. Occasionally it also contains the provider's credentials, e.g. 'Smith MD'.
          When the provider is an organization rather than an individual, this value may be null or may contain
          part or all of the organization name, e.g 'Clinic' or 'Dental' or 'Soundview PT'.
      - name: provider_middle_name
        description: >
          Middle name or initial of the provider.
      - name: provider_name
        description: >
          Full name of the provider. This value is derived by combining the values in prov_first_name and
          prov_last_name (not prov_middle_name) and formatting them as Lastname, Firstname. When the provider
          is an organization rather than an individual, this value may not correctly reflect the name due to
          this automated formatting. 
      - name: provider_degree_1
        description: >
          Provider degree. Is not currently populated but will be populated in a future enhancement.
      - name: provider_degree_2
        description: >
          Additional provider degree. Is not currently populated but will be populated in a future enhancement.
      - name: provider_specialty_1
        description: >
          Provider's specialty, describing the kind of medicine physicians, non-physician practitioners or
          other healthcare providers/ suppliers practice. This value is derived from the value in
          provider_specialty_unscrubbed, using mappings found in Staging table lookup.provSpecialty.
      - name: provider_sub_specialty
        description: >
          Provider's sub-specialty, as specified in the clinical data source. Is not currently populated
          but will be populated in a future enhancement.
      - name: provider_NPI
        description: >
          National Provider Identifier (NPI) code of the provider. NPI codes are maintained by CMS and
          may represent either an individual provider or a healthcare organization. Valid NPI codes are
          10 digits long with no leading zeroes. NPI codes do not uniquely identify a given provider row.
          The same NPI code may be present on multiple provider rows, for example when the clinical data
          source uses the NPI code for the organization on rows for providers working in that organization
          who do not have individual NPI codes. A given provider could also be active at multiple clinical
          sites, in which case there would be a multiple provider_ids (one per site) for the same NPI code,
          since a QDW provider_id is used only on data from a single clinical data source.
      - name: provider_address_1
        description: >
          Street address (line 1) of the provider's mailing address.
      - name: provider_address_2
        description: >
          Street address (line 2) of the provider's mailing address.
      - name: provider_home_phone
        description: >
          Home phone number of the provider. Typically is null.
      - name: provider_cell_phone
        description: >
          Provider cell phone number.
      - name: provider_email
        description: >
          Provider email address.
      - name: provider_city
        description: >
          City of the provider's mailing address.
      - name: provider_state
        description: >
          State of the provider's mailing address. A two-character US state code.  
      - name: provider_zip
        description: >
          Zip code of the provider's mailing address. May be 5-digit or ZIP+4.  
      - name: provider_date_of_birth
        description: >
          (This data element is not populated.)
      - name: provider_PCP_ind
        description: >
          Provider primary care physician indicator; is generally null.
      - name: provider_accreditation
        description: >
          Provider accreditation. Is not currently populated but will be populated in a future enhancement.
      - name: provider_entry_timestamp
        description: >
          Date and time when the row was first inserted into the QDW.
      - name: provider_updated_timestamp
        description: >
          Date and time when the row was last updated in the QDW.
      - name: provider_status
        description: >
          Provider status; is generally null.
      - name: provider_delete_ind
        description: >
          Indicates if the record is marked as deleted, either because it was deleted in the clinical data source,
          or because the connector query changed in a way that makes the record no longer valid.
          Values are 'Y'(deleted) and 'N' (not deleted). If the value is 'Y' then the row should be excluded from all queries.
          This view filters out all rows with a value of 'Y'.
      - name: orig_provider_site_id
        description: >
          QDW site ID in integer format of the clinical data source from which this record was obtained.
      - name: provider_site_id
        description: >
          QDW site ID. This is generated by Arcadia.
      - name: provider_type
        description: >
          Type of provider, used in the clinical PCP attribution logic.
      - name: provider_modify_timestamp
        description: >
          Date and time when the record was last updated in the clinical data source.
      - name: provider_loaded_from_file
        description: >
          Name of the file from which this particular record was first loaded, usually a CSV file. When Arcadia pulls
          data from an EHR source via Informatica, we automatically embed the following pieces of information in this
          file name: date and time of the extract, client and source IDs, and connector query version. When data
          partners instead send us direct feeds that are loaded directly into staging (i.e. bypassing prestaging),
          the file name is created by the data partner and therefore may not contain the same type of information.
      - name: provider_active
        description: >
          Indicates whether this provider is considered active in the clinical data source, meaning clinical information
          related to this provider continues to be loaded into the QDW. Values are 1 (active provider) and 0. A value
          of 0 means that this is not considered an active provider, and therefore this provider row is present only
          as a descriptor for historical data.
      - name: provider_usual_location_id
        description: >
          QDW location ID of the location where this provider usually provides services, if the provider should be
          considered as operating under a specific location or grouping. Even if providers operate at multiple sites
          they are usually assigned to one primary location where their panel is said to live. This value is derived
          from the value in prov_usual_location_unscrubbed, using mappings found in Staging table lookup.location.
          If the unscrubbed value cannot be mapped to a location ID, then this is populated with the ID of the default
          location for that site.
      - name: provider_usual_location_unscrubbed
        description: >
          ID of the location where this provider usually provides services, as specified in the clinical data source.
          This value is scrubbed into the provider_usual_location_id column.
      - name: provider_specialty_unscrubbed
        description: >
          Provider's specialty, as specified in the clinical data source. This value is scrubbed into the prov_specialty column.
