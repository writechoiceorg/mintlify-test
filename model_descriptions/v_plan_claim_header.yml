version: 2

models:
  - name: v_plan_claim_header
    description: > 
        This table contains the summary and header material for adjudicated medical and dental claims, including institutional claims originally submitted on a UB-92 or UB-04 form as well as professional claims submitted on a form CMS-1500. Prescription claims should not be included in this extract; those go in the separate v_plan_claim_rx table. In the 837 claims standard, this table corresponds to X12 Loop 2300.
    columns:
    - name: person_id
      description: >
          QDW person ID for the patient. 
      data_tests:
        - not_null:
            meta:
              requirement: [ 'FDR-1120' ]
        - relationships:
            to: ref('v_patient')
            field: person_id
            meta:
              requirement: [ 'FDR-1120' ]
    - name: claim_header_id
      description: >
          QDW claim header ID; primary key for this table.  This is generated by Arcadia.
      data_tests:
        - not_null:
            meta:
              requirement: [ 'FDR-1120' ]
    - name: orig_claim_header_id
      description: >
         ID of the claim header row in the Staging database, used to tie back to the plan data source.  This is created by the connector query or direct feed that loads the row from a given source, and is derived from plan data source column(s) to uniquely identify a row. For a given source, one original ID corresponds to one and only one QDW ID for this entity.  The same original ID value could be found on more than one row if the rows are derived from different sources.
    - name: claim_type
      description: >
          Type of claim, based on the type of form used to submit the claim.  Valid  values are 'Inst' (institutional claims, i.e. those submitted by hospitals and facilities on form UB-92 or UB-04), 'Prof' (professional claims, i.e., those submitted by providers on form CMS-1500) and 'Dental'.  For CMS claims from a CCLF, Medicare Part A claims would be represented as 'Inst' and Medicare Part B claims would be represented as 'Prof'.  This value is derived from the value in claim_type_unscrubbed, using mappings in lookup.plan_claim_type in Staging.  If a mapping is not found, the value is set to 'Needs Update'. 
    - name: claim_type_unscrubbed
      description: >
          Type of claim, as specified in the plan data source.  This value is scrubbed into the claim_type column.
    - name: claim_no
      description: >
          Claim number from the plan data source.  Note that this is not a unique identifier for the claim header, and occasionally more than one row may have the same claim_no.  Also, this is not the original key for this record; that value is stored in orig_claim_header_id.
    - name: first_claim_no
      description: >
         Claim number from the plan data source of the first claim in the series of claim-level adjustments to which this claim header belongs.  If this claim header is the first or only one in the series, this will be the same as the value in claim_no.  
    - name: final_claim_ind
      description: >
          Indicates if this is the final claim in a series of claim-level adjustments.  Values are 'Y' (this is the final claim) and 'N' (this is not the final claim).  
    - name: member_id,
      description: >
          QDW member ID for the member to whom the healthcare services covered on this claim were provided.  (In rare cases, where services are provided to a newborn baby, the member_id might represent the mother, if claims are submitted before the newborn has been issued a member_id.)
    - name: orig_member_id
      description: >
          Member ID, as specified in the plan data source, for the member to whom the healthcare services covered on this claim were provided.
    - name: adjudicated_lob_id
      description: >
          QDW line of business ID for the line of business of the insurance product in which this claim was processed. 
    - name: orig_adjudicated_lob_id
      description: >
          Line of business ID, as specified in the plan data source, of the insurance product in which this claim was processed.
    - name: billing_provider_id
      description: >
          QDW billing provider ID of the provider who submitted the claim.  Often, the billing provider is a medical practice or facility rather than an individual provider.  When the claim comes from a data source that does not separately identify billing providers, this may represent the rendering provider.  Note that this ID joins to the plan_billing_provider table, not to the plan_provider table.  Billing provider ID values are not the same as provider ID values.
    - name: orig_billing_provider_id
      description: >
          Billing provider ID, as specified in the plan data source, of the provider who submitted the claim.
    - name: billing_provider_npi
      description: >
          National Provider Identifier (NPI) code of the billing provider.  NPI codes are maintained by CMS and may represent either an individual provider or a healthcare organization.  Valid NPI codes are 10 digits long with no leading zeroes.  NPI codes do not uniquely identify a given plan provider row.  The same NPI code may be present on multiple plan provider rows, for example when the plan data source uses the organization's NPI code for providers working in that organization who do not have individual NPI codes.  A given plan provider could also be active in multiple plan data sources, in which case there would be a multiple provider_ids (one per plan data source) for the same NPI code, since a QDW plan provider_id is used only on data from a single plan data source.  The NPI code is used to match providers specified in various plan and clinical tables, and the match results are represented in the ProviderPerson table.
    - name: admitting_provider_id
      description: >
          QDW plan provider ID of the admitting provider.  This is relevant for inpatient claims only.  
    - name: orig_admitting_provider_id
      description: >
          Provider ID, as specified in the plan data source, of the admitting provider.
    - name: admitting_provider_npi
      description: >
          National Provider Identifier (NPI) code of the admitting provider.  NPI codes are maintained by CMS and may represent either an individual provider or a healthcare organization.  Valid NPI codes are 10 digits long with no leading zeroes.  NPI codes do not uniquely identify a given plan provider row.  The same NPI code may be present on multiple plan provider rows, for example when the plan data source uses the organization's NPI code for providers working in that organization who do not have individual NPI codes.  A given plan provider could also be active in multiple plan data sources, in which case there would be a multiple provider_ids (one per plan data source) for the same NPI code, since a QDW plan provider_id is used only on data from a single plan data source.  The NPI code is used to match providers specified in various plan and clinical tables, and the match results are represented in the ProviderPerson table.
    - name: attending_provider_id
      description: >
         QDW plan provider ID of the provider in charge of the member's care for the services covered on this claim.  For institutional claims, this represents the attending provider specified on the UB92/UB04 institutional claim form.  For professional claims, this represents the rendering provider on the CMS 1500 form.  
    - name: orig_attending_provider_id
      description: >
          Provider ID, as specified in the plan data source, of the provider in charge of the member's care for the services covered on this claim.
    - name: attending_provider_npi
      description: >
          National Provider Identifier (NPI) code of the attending provider.  NPI codes are maintained by CMS and may represent either an individual provider or a healthcare organization.  Valid NPI codes are 10 digits long with no leading zeroes.  NPI codes do not uniquely identify a given plan provider row.  The same NPI code may be present on multiple plan provider rows, for example when the plan data source uses the organization's NPI code for providers working in that organization who do not have individual NPI codes.  A given plan provider could also be active in multiple plan data sources, in which case there would be a multiple provider_ids (one per plan data source) for the same NPI code, since a QDW plan provider_id is used only on data from a single plan data source.  The NPI code is used to match providers specified in various plan and clinical tables, and the match results are represented in the ProviderPerson table.
    - name: referring_provider_id
      description: >
          QDW plan provider ID of the provider who referred or ordered the service, from the CMS-1500 professional claim form. 
    - name: orig_referring_provider_id
      description: >
          Provider ID, as specified in the plan data source, of the provider who referred or ordered the service.
    - name: referring_provider_npi
      description: >
          Date of the start of the period covered on the claim.  This value is used in determining the 'Last Service Date' that is visible in Arcadia Analytics.  The period specified on the claim header represents the full period for which the billing provider is billing, but does not necessarily mean that services were provided on every date within that period.  For example, the service date range could cover a one-week period in which services were provided only on one day in the middle of the week.  To identify specific dates on which services were provided, refer to the plan_claim_line table.
    - name: provider_contract_id
      description: >
          QDW provider contract ID of the relevant provider contract, the terms of which were applied to this claim. 
    - name: orig_provider_contract_id
      description: >
          Provider contract ID, as specified in the plan data source, of the relevant provider contract, the terms of which were applied to this claim. 
    - name: service_from_date
      description: >
          Date of the start of the period covered on the claim.  This value is used in determining the 'Last Service Date' that is visible in Arcadia Analytics.  The period specified on the claim header represents the full period for which the billing provider is billing, but does not necessarily mean that services were provided on every date within that period.  For example, the service date range could cover a one-week period in which services were provided only on one day in the middle of the week.  To identify specific dates on which services were provided, refer to the plan_claim_line table.
    - name: service_from_date_unscrubbed
      description: >
          Date of the start of the period covered on the claim, as specified in the plan data source.
    - name: service_thru_date
      description: >
          Date of the end of the period covered on the claim.  
    - name: service_thru_date_unscrubbed
      description: >
          Date of the end of the period covered on the claim, as specified in the plan data source.
    - name: admission_date
      description: >
          Date the member was admitted to the facility.  This is relevant for inpatient claims only.  For claims loaded from sources such as CCLF that do not provide an admission date, this column is populated with the service_from_date.  It is used for readmission reporting.
    - name: admission_date_unscrubbed
      description: >
          Date the member was admitted to the facility, as specified in the plan data source.  For claims loaded from sources such as CCLF that do not provide an admission date, this column is populated with the service_from_date_unscrubbed.
    - name: discharge_date
      description: >
          Date the member was discharged from the facility.  This is relevant for inpatient claims only.  For claims loaded from sources such as CCLF that do not provide a discharge date, this column is populated with the service_to_date.  It is used for readmission reporting.
    - name: discharge_date_unscrubbed
      description: >
          Date the member was discharged from the facility, as specified in the plan data source.  For claims loaded from sources such as CCLF that do not provide a discharge date, this column is populated with the service_to_date_unscrubbed.
    - name: received_date
      description: >
          Date and time when the claim was received.  Typically the time information is all zeroes.
    - name: paid_date
      description: >
          Date and time when the claim was paid.  Typically the time information is all zeroes.
    - name: claim_status
      description: >
          Processing status of the claim. Valid values are 'Final' (the processing of this claim is complete) and 'Pending' (the processing of this claim is not yet complete).  It is expected that most claims in the database will have a status of 'Final'. This value is derived from the value in Staging based on mapping rules in lookup.plan_claim_status.  
    - name: bill_type
      description: >
          Code representing the bill type, from the UB92/UB04 institutional claim form.  This value is derived from bill_type_unscrubbed based on mapping rules found in Staging table lookup.plan_bill_type. If no mapping is found, the value is set to 'Needs Update'.  CMS has a standard set of bill type codes and one is expected on all institutional claims.  Valid CMS bill type codes are four digits and always begin with a leading zero, for example 0141 (Hospital other, admit through discharge).  Other payors might have their own set of bill type codes.  
    - name: bill_type_unscrubbed
      description: >
          Code representing the bill type, from the UB92/UB04 institutional claim form, as specified in the plan data source.
    - name: claim_frequency
      description: >
          Code representing the frequency of billing, from the UB92/UB04 institutional claim form.  CMS has a standard set of frequency codes, and one is expected on all institutional claims.  Valid values are a single character, either numeric 0-9 or alphabetic A-Z.  When the bill_type is a valid CMS four-digit code, the claim frequency is the third digit within the bill_type code.  
    - name: patient_status
      description: >
          Code representing the member's disposition or discharge status as of the service_thru_date, from the UB92/UB04 institutional claim form.  Valid values are two numeric digits from 01 through 99, with a leading zero as needed. Example values are '01' (Discharged to Home or Self Care), '02' (Discharged/transferred to a Short-Term General Hospital for inpatient Care), and '20' (Expired).  This value is expected on all institutional claims relating to an inpatient or emergency department or other facility stay.  This value is used in logic that analyzes follow-up care, for example the logic that identifies readmissions.  It may also be used in logic to identify patients who died during a hospital stay.  This value is derived from patient_status_unscrubbed based on mapping rules found in Staging table lookup.plan_patient_status. If no mapping is found, the value is set to 'Needs Update'.  
    - name: patient_status_unscrubbed
      description: >
          Code representing the member's disposition or discharge status as of the service_thru_date, from the UB92/UB04 institutional claim form in the plan data source.  This value is scrubbed into the patient_status column.  
    - name: admission_type
      description: >
          Type of admission, from the UB92/UB04 institutional claim form.  Values are '1' (Emergency), '2' (Urgent), '3' (Elective), '4' (Newborn), '5' (Trauma), and '9' (Information Not Available).  This is relevant for inpatient claims only.  This value is derived from admission_type_unscrubbed based on mapping rules found in Staging table lookup.plan_admission_type.  If no mapping is found, the value is set to 'Needs Update'.  
    - name: admission_type_unscrubbed
      description: >
          Code representing the type of admission, from the UB92/UB04 institutional claim form, as specified in the plan data source.  This value is scrubbed into the admission_type column.  
    - name: admission_source
      description: >
          Source of admission, from the UB92/UB04 institutional claim form.  Values are '1' (Physicial Referral) '2' (Clinic Referral), '3' (HMO Referral), '4' (Transfer from Hospital), '5' (Transfer from SNF), '6' (Transfer from Another Health Care Facility), '7' (Emergency Room), '8' (Court/Law Enforcement), and '9' (Information Not Available).  In the case of newborns, the values have different meaning: '1' (Normal Delivery), '2' (Premature Delivery), '3' (Sick Baby), and '4' (Extramural Birth).  This is relevant for inpatient claims only.  This value is derived from admission_source_unscrubbed based on mapping rules found in Staging table lookup.plan_admission_source. If no mapping is found, the value is set to 'Needs Update'.  
    - name: admission_source_unscrubbed
      description: >
          Code representing the source of admission, from the UB92/UB04 institutional claim form, as specified in the plan data source.  This value is scrubbed into the admission_source column. 
    - name: admission_hour
      description: >
          Code indicating the hour that the member entered the facility.  Valid values are two digits which may contain a leading zero, and represent the hour according to a 24-hour clock. For example, '00' means midnight, and '13' means 1:00 pm.  This is relevant for inpatient claims only.  
    - name: discharge_hour
      description: >
          Code indicating the hour that the member was discharged from the facility.  Valid values are two digits, which may contain a leading zero, and represent the hour according to a 24-hour clock. For example, '00' means midnight, and '13' means 1:00 pm.  This is relevant for inpatient claims only.  
    - name: admitting_diagnosis
      description: >
          Code representing the principal diagnosis on admission to the inpatient facility, from the UB92/UB04 institutional claim form.  Values are ICD9 or ICD10 diagnosis codes.  This is relevant for inpatient claims only.  This value is derived from admitting_diagnosis_unscrubbed.  
    - name: dmitting_diagnosis_unscrubbed
      description: >
          Code representing the principal diagnosis on admission to the inpatient facility, as specified on the UB92/UB04 institutional claim form in the plan data source.  This value is scrubbed into the admitting_diagnosis column.  
    - name: drg_type
      description: >
          Code representing the type of diagnostic related group (DRG) specified in the drg column. Arcadia Analytics currently supports only the MS-DRG (Medicare Severity DRG) code set.  Therefore, the only value currently considered valid in this column is 'MS-DRG'.  However, plan data sources sometimes use other DRG code sets such as 'AP-DRG' (All patient DRG), 'APR DRG' (All patient refined DRG), 'IR-DRG' (International refined DRG),  'RDRG' (Refined DRG), 'SDRG' (Severity DRG), or even custom codes.  This value is derived from drg_type_unscrubbed based on mapping in the lookup.plan_drg_type table in Staging. 
    - name: drg_type_unscrubbed
      description: >
          Code representing the type of DRG specified in the drg column, as specified in the plan data source.  This value is scrubbed into the drg_type column. 
    - name: drg
      description: >
          Number representing the member's diagnosis related group (DRG), from the UB92/UB04 institutional claim form Prospective Payment System code.  This is relevant for inpatient claims only.  The DRG method assigns a numeric value to the member's episode of care, which serves as a relative weighting factor intended to represent the resource intensity of hospital care of the clinical group that is classified to that specific DRG. As a reimbursement system the DRG assignment determines the payment level the hospital will receive.  This value  is required on claims only when the provider is under contract with a health plan using DRG codes.  Arcadia Analytics currently supports codes in the MS-DRG coding scheme. Valid MS-DRG values are three numeric digits with leading zeroes, from 001 through 999.  For example MS-DRG value '629'  represents 'OTHER ENDOCRINE, NUTRIT & METAB O.R. PROC W CC'.  For Medicare/Medicaid claims, DRGs are always specified in terms of the MS-DRG coding scheme.  From other payors, the DRG might be specified in terms of other coding schemes.  In addition, if you look up the DRG in lookup.code using code_set 'MS-DRG', the two-digit Major Diagnostic Category (MDC) to which it belongs is identified in the parent_code column.
    - name: submitted_drg
      description: >
          Number representing the member's DRG (diagnosis related group), as specified in the claim as originally submitted.  If DRGs are being recalculated by the plan, this value will be different from the value in the drg column.  Note that Arcadia Analytics uses the value in the drg column, not this value.
    - name: submitted_total_billed_amount
      description: >
          Total amount billed for the claim, which is the sum of charges on all claim lines.  On the claim forms, this is labeled 'Total Charges' or 'Total Claim Charge Amount'.  This value should not be negative.  In rare cases, a claim header might have a zero value for the billed amount, for example when the claim is for capitated services, or the submitting provider is submitting the claim only for quality reporting purposes, or the submitting provider is reporting a refunded amount in one of the other amount columns.
    - name: member_payment_amount
      description: >
          Amount that the member paid for the service, which represents the sum of the copay, deductible, and coinsurance amounts.  A negative value in this column indicates that this row represents a reversal or negative adjustment.
    - name: member_payment_date
      description: >
          Date the member made payment for the service.
    - name: insurance_balance
      description: >
          Insurance balance amount.
    - name: allowed_amount
      description: >
          Amount allowed by the payor, which is the maximum amount on which payment is based for covered health care services. This may also be called 'eligible expense,' 'payment allowance' or 'negotiated rate.'  Allowed amounts are generally based on the rate specified by the insurance, such as a fee negotiated with participating providers, an allowance established by law, or an amount set on a Fee Schedule of Allowance.  When a provider submits a bill for more than the allowed amount, the payor bases payment algorithms on the allowed amount rather than the billed amount.  A negative value in this column indicates that this row represents a reversal or negative adjustment.  This value is generally equal to the sum of values on the associated claim lines.
    - name: not_covered_amount
      description: >
          Amount not covered by insurance.  This value is generally equal to the sum of values on the associated claim lines.
    - name: deductible_amount
      description: >
          Amount of this claim that was applied to the member's deductible amount.  Note that some plan data sources do not break down deductible/ copay/ coinsurance amounts and may only specify total member payment.  A negative value in this column indicates that this row represents a reversal or negative adjustment.  This value is generally equal to the sum of values on the associated claim lines.
    - name: copay_amount
      description: >
          Copay amount applied to this claim. The copay is a specific charge that the health insurance plan requires a member to pay for a specific medical service or supply.  When a claim is submitted, if the member is responsible for a copay for the billed service, then the claim will be paid (in part) from the member's copay, and that amount will be reflected in this column. Note that some plan data sources do not break down deductible/ copay/ coinsurance amounts and may only specify total member payment.  A negative value in this column indicates that this row represents a reversal or negative adjustment. In some client databases, this column is always null.  This value is generally equal to the sum of values on the associated claim lines.
    - name: coinsurance_amount
      description: >
          Coinsurance amount for this claim.  Coinsurance is the member's share of the costs of a covered health care service, calculated as a percentage (for example, 20%) of the allowed amount for the service. The member payscoinsurance after meeting the deductible. For example, if the health insurance plan's allowed amount for an office visit is $100 and the member has met the deductible, the 20% coinsurance payment would be $20. The health insurance plan pays the rest.  Note that some plan data sources do not break down deductible/ copay/ coinsurance amounts and may only specify total member payment.  A negative value in this column indicates that this row represents a reversal or negative adjustment.  In some client databases, this column is always null.  This value is generally equal to the sum of values on the associated claim lines.
    - name: paid_amount
      description: >
          Amount that the plan paid to the billing provider for this claim, excluding any interest.  A negative value in this column indicates that this row represents a reversal or negative adjustment.  This value is generally equal to the sum of values on the associated claim lines.
    - name: interest_amount
      description: >
          Interest amount. This value is generally equal to the sum of values on the associated claim lines.
    - name: check_amount
      description: >
          Actual amount that the plan paid to the billing provider for this claim, which may include interest.  A negative value in this column indicates that this row represents a reversal or negative adjustment.  This value is generally equal to the sum of values on the associated claim lines.
    - name: fee_for_service_equivalent_amount
      description: >
          Fee-for-service or fee-for-service equivalent amount, the plan-supplied price for this service.  This is the amount that appears as 'Cost' in Total Member Expense and other cost calculations visible in the Arcadia Analytics front end.  This is the most important amount column in this table, and is referenced in many data dependencies.  A negative value in this column indicates that this row represents a reversal or negative adjustment.  This value is generally equal to the sum of values on the associated claim lines.
    - name: COB_paid_amount
      description: >
          Coordination of benefits paid amount.  When a member has active policies with two or more carriers, and some part of the claim is paid by a secondary policy, this amount is reflected in this column.  A negative value in this column indicates that this row represents a reversal or negative adjustment.  This value is generally equal to the sum of values on the associated claim lines.
    - name: provider_write_off_amount
      description: >
          Provider write-off amount.  This value is generally equal to the sum of values on the associated claim lines.
    - name: patient_liab_cost_share_amount
      description: >
          Patient liability/cost share amount.  For certain Medicaid recipients in long-term care, this is the amount for which the member is responsible.
    - name: claim_submission_method
      description: >
          Method by which the claim was submitted, for example 'Paper or 'Electronic'.  Arcadia has not defined a list of valid codes for this column.  It may be populated in whatever way is useful to the client.  
    - name: medical_record_no
      description: >
          Medical record number of the member  to whom the healthcare services covered on this claim were provided, as specified by the billing provider on the original claim.  
    - name: patient_control_no
      description: >
          Number assigned to the member by the billing office of the provider.  
    - name: orig_authorization_id
      description: >
          Original authorization ID.
    - name: source_id
      description: >
          QDW source ID of the plan data source from which this record was obtained.
    - name: orig_source_id
      description: >
          QDW source ID in character format of the plan data source from which this record was obtained.
    - name: insert_timestamp
      description: >
          Date and time when the row was first inserted into the QDW.
    - name: update_timestamp
      description: >
          Date and time when the row was last updated in the QDW.
    - name: create_timestamp
      description: >
          Date and time when the row was first inserted into the plan data source.
    - name: modify_timestamp
      description: >
          Date and time when the row was last updated in the plan data source.
    - name: created_by
      description: >
          User who first inserted the row into the plan data source, as specified by a user ID known to the plan data source.
    - name: modified_by
      description: >
          User who most recently updated the row in the plan data source, as specified by a user ID known to the plan data source.
    - name: delete_ind
      description: >
          Indicates if the record is marked as deleted, either because it was deleted in the plan data source, or because the connector query changed in a way that makes the record no longer valid.  Values are Y (deleted) and N (not deleted).  If the value is 'Y' then the row should be excluded from all queries.
    - name: withhold_amount
      description: >
          Withhold amount, the amount a plan is not paying to a provider as a result of a reversal or administrative action.  For example, if the plan overpaid a provider, instead of asking for the entire amount back they may withold an amount from each claim until total value is hit.
    - name: loaded_from_file
      description: >
          Name of the file from which this particular record was first loaded, usually a CSV file. The following pieces of information may be embedded in this file name: date and time of the extract, client and source IDs, and connector query version.  
