version: 2

models:
  - name: v_plan_member_assignment
    description: >
        This table contains information about member assignments by health plans to specific organizations and providers for the purposes of managed care, risk adjustment, and contract compliance. For example, one row in this table may represent the fact that 'From Jan-Dec 2015, the HMO has assigned Dr. Jones to be the Primary Care Provider for member Mary Lee.' Each entry includes a date range for the assignment, which may or may not coincide with an eligibility assignment in the v_plan_member_elig table. The data in this table drive Arcadia Analytics plan attribution functionality for determining member attribution.
    columns:
    - name: person_id
      description: >
          QDW person ID for the member.
    - name: member_assignment_id
      description: >
           QDW member assignment ID; primary key for this table.  This is generated by Arcadia.
    - name: member_id
      description: >
           QDW member ID for the member whose care management assignment is described in this row.  
    - name: orig_member_id
      description: >
           Member ID, as specified in the plan data source, for the member whose care management assignment is described in this row.
    - name: provider_id
      description: >
          QDW plan provider ID of the primary care provider to whom the member is assigned for care management.  In the Arcadia Analytics product, this is the provider accountable for the patient  according to 'plan attribution' logic.
    - name: orig_provider_id
      description: >
           Plan provider ID, as specified in the plan data source, of the primary care provider to whom the member is assigned for care management.
    - name: location_id
      description: >
           QDW plan location ID of the location to which the member is assigned for care management.  This value represents the location in which the specified provider provides care.  
    - name: orig_location_id
      description: >
           Plan location ID, as specified in the plan data source, of the clinical location to which the member is assigned for care management.
    - name: site_id
      description: >
           QDW plan site ID of the site to which the member is assigned for care management.  This value represents the site in which the assigned provider provides care.
    - name: orig_site_id
      description: >
           Plan site ID, as specified in the plan data source, of the clinical site to which the member is assigned for care management.
    - name: start_date
      description: >
           Care management assignment effective date, the date and time on which the assignment period began.  If this column is null, the assignment row will not be considered in the provider attribution logic.  Typically the time information is all zeroes.
    - name: end_date
      description: >
           Care management assignment termination date, the date and time on which the assignment period ended  Typically the time information is all zeroes.  A null value indicates that the care management assignment period is assumed to still be in effect.
    - name: assignment_type_unscrubbed
      description: >
           Care management assignment type, as specified in the plan data source.  This value is scrubbed into the assignment_type column.
    - name: assignment_type
      description: >
           Code indicating the care management assignment type.  The only valid value is 'PCP' (Primary care provider).  This value is derived from the assignment_type_unscrubbed column based on mapping in the lookup.plan_assignment_type table in Staging.  
    - name: orig_source_id
      description: >
           QDW source ID in character format of the plan data source from which this record was obtained.
    - name: source_id
      description: >
           QDW source ID of the plan data source from which this record was obtained.
    - name: orig_member_assignment_id
      description: >
           ID of the member assignment row in the Staging database, used to tie back to the plan data source.  This is created by the connector query or direct feed that loads the row from a given source, and is derived from plan data source column(s) to uniquely identify a row. For a given source, one original ID corresponds to one and only one QDW ID for this entity.  The same original ID value could be found on more than one row if the rows are derived from different sources.
    - name: insert_timestamp
      description: >
           Date and time when the row was first inserted into the QDW.
    - name: update_timestamp
      description: >
           Date and time when the row was last updated in the QDW.
    - name: create_timestamp
      description: >
           Date and time when the row was first inserted into the plan data source.
    - name: modify_timestamp
      description: >
           Date and time when the row was last updated in the plan data source.
    - name: created_by
      description: >
           User who first inserted the row into the plan data source, as specified by a user ID known to the plan data source.
    - name: modified_by
      description: >
           User who most recently updated the row in the plan data source, as specified by a user ID known to the plan data source.
    - name: delete_ind
      description: >
           Indicates if the record is marked as deleted, either because it was deleted in the plan data source, or because the connector query changed in a way that makes the record no longer valid.  Values are Y (deleted) and N (not deleted).  If the value is 'Y' then the row should be excluded from all queries.
    - name: loaded_from_file
      description: >
           Name of the file from which this particular record was first loaded, usually a CSV file. The following pieces of information may be embedded in this file name: date and time of the extract, client and source IDs, and connector query version.  
    - name: arc_site_id
      description: >
          Arcadia site ID of the clinical data source from which this record was obtained.