version: 2

models:
  - name: v_plan_billing_provider
    data_tests:
      - not_empty:
          meta:
            requirement: [ 'FDR-1849' ]
    description: > 
        This table contains a master list of all billing providers and organizations known to the payer, along with demographic and taxonomic information and essential identifiers for reimbursement. Billing providers are individuals or organizations who have specifically billed or are billable on claims; they may differ from rendering/attending providers. Any billing provider ID mentioned in Claim Header must be included in this master list.    
    columns:
      - name: billing_provider_id
        description: >
          QDW billing provider ID; primary key to this table.  This is generated by Arcadia.  Note that the billing_provider_id is not the same as the provider_id.  For example,  if billing_provider_id 123 represents 'Evergreen Medical Center', provider_id 123 in the plan_provider table might represent 'Dr. Mary Jones'.  Billing provider IDs are used only in the plan_claim_header table.  
      - name: orig_billing_provider_id
        description: >
          ID of the billing provider row in the Staging database, used to tie back to the plan data source.  This is created by the connector query or direct feed that loads the row from a given source, and is derived from plan data source column(s) to uniquely identify a row. For a given source, one original ID corresponds to one and only one QDW ID for this entity.  The same original ID value could be found on more than one row if the rows are derived from different sources.
      - name: billing_provider_type
        description: >
          Type of billing provider, for example 'IPA' (Independent Practice Association), or 'Hospital' or 'Individual'.  This value is derived from billing_provider_type_unscrubbed based on mapping in the lookup.plan_billing_provider_type table in Staging.  Arcadia has not defined a list of valid codes for this column.  It may be populated in whatever way is useful to the client.  For example, it could be used to distinguish an organizational versus individual NPI type, or some sort of preferred indicator.
      - name: billing_provider_type_unscrubbed
        description: >
          Type of billing provider, as specified in the plan data source.  This value is scrubbed into the billing_provider_type column. 
      - name: name
        description: >
          Name of the billing provider.
      - name: business_phone
        description: >
          Business phone number of the billing provider.  This may be formatted either with or without hyphens and parentheses.
      - name: fax
        description: >
          Fax number of the billing provider.
      - name: tax_id
        description: >
          IRS Tax Identification Number, also known as TIN, of the billing provider.  Valid tax IDs are generally represented as 9 numeric digits.  A tax ID for a business entity is also known as Employer Identification Number (EIN).  
      - name: billing_provider_1099_ind
        description: >
          Indicates whether the billing provider is operating under a 1099.  
      - name: primary_npi
        description: >
          National Provider Identifier (NPI) code of the billing provider. 
      - name: npi_exempt_ind
        description: >
          Indicates if the billing provider is exempt from the requirement to have a National Provider Identifier (NPI) code.  Valid values are 'Y' (exempt) and 'N' (not exempt). Exempt providers may be identified in transactions in the locations usually used to identify health care providers, but are not considered health care providers according to the NPI regulations. 
      - name: source_id
        description: >
          QDW source ID of the plan data source from which this record was obtained.
      - name: orig_source_id
        description: >
          QDW source ID in character format of the plan data source from which this record was obtained.
      - name: insert_timestamp
        description: >
          Date and time when the row was first inserted into the QDW.
      - name: update_timestamp
        description: >
          Date and time when the row was last updated in the QDW.
      - name: create_timestamp
        description: >
          Date and time when the row was first inserted into the plan data source.
      - name: modify_timestamp
        description: >
          Date and time when the row was last updated in the plan data source.
      - name: created_by
        description: >
          User who first inserted the row into the plan data source, as specified by a user ID known to the plan data source.
      - name: modified_by
        description: >
          User who most recently updated the row in the plan data source, as specified by a user ID known to the plan data source.
      - name: delete_ind
        description: >
          Indicates if the record is marked as deleted, either because it was deleted in the plan data source, or because the connector query changed in a way that makes the record no longer valid.  Values are Y (deleted) and N (not deleted).  If the value is 'Y' then the row should be excluded from all queries.
      - name: loaded_from_file
        description: >
          Name of the file from which this particular record was first loaded, usually a CSV file. The following pieces of information may be embedded in this file name: date and time of the extract, client and source IDs, and connector query version.  
      - name: arc_site_id				
        description: >
          Arcadia site ID of the clinical data source from which this record was obtained.
      - name: arc_source_id
        description: >
          Arcadia source ID of the clinical data source from which this record was obtained.