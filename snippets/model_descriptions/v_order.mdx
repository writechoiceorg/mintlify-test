export const schema = {
  "version": 2,
  "models": [
    {
      "name": "v_order",
      "config": {
        "tags": [
          "care_quality_and_program_data"
        ]
      },
      "data_tests": [
        {
          "not_empty": {
            "meta": {
              "requirement": [
                "FDR-1849"
              ]
            }
          }
        }
      ],
      "description": "An order is a record of a request for a set of diagnostic investigations to be performed. The investigation will lead to a diagnostic report that summarizes the outcome of the investigation, and includes contextual data about the ordering workflow which at a minimum should the date the order was generated and the date the result was reviewed.  The general work flow that this resource facilitates is: (1) A clinical system creates a diagnostic order. (2) The diagnostic order is then exchanged, perhaps via intermediaries, with a system that represents a diagnostic service that can perform the investigation as a request to do so. (3) The diagnostic service will update the request as the work is performed, and (4) then issues a report that references the requests that it fulfills.  Several types of orders are currently supported in this entity: Procedures, such as an order for a mammogram or colonoscopy, referrals, such as a primary care physician ordering a referral to a specialist, and labs, such as an A1c test for a diabetic patient.    columns:\n",
      "columns": [
        {
          "name": "person_id",
          "description": "QDW person ID for the patient. \n"
        },
        {
          "name": "order_id",
          "description": "QDW order ID in integer format; an alternate primary key generated by Arcadia.  This value is used in the rpt.event table to tie back to a specific row in this table.\n"
        },
        {
          "name": "site_name",
          "description": "Name of the clinical data source from which this record was obtained.\n"
        },
        {
          "name": "enc_id",
          "description": "QDW encounter ID for the encounter during which the provider placed the order.    This link is used in the pseudo claims extract to link the order (line) to the encounter (header), but orders not linked to an encounter may still be included in the extract.\n"
        },
        {
          "name": "patient_id",
          "description": "QDW patient ID in integer format for the patient whose order is recorded.\n"
        },
        {
          "name": "ordering_provider_NPI",
          "description": "National Provider Identifier (NPI) code of the provider who placed this order.  This value is derived from the value in ordering_provider_id_unscrubbed.  NPI codes are maintained by CMS and may represent either an individual provider or a healthcare organization.  Valid NPI codes are 10 digits long with no leading zeroes.  NPI codes do not uniquely identify a given provider row.  The same NPI code may be present on multiple provider rows, for example when the clinical data source uses the NPI code for the organization on rows for providers working in that organization who do not have individual NPI codes.  A given provider could also be active at multiple clinical sites, in which case there would be a multiple provider_ids (one per site) for the same NPI code, since a QDW provider_id is used only on data from a single clinical data source.\n"
        },
        {
          "name": "ordering_provider_name",
          "description": "Full name of the provider who placed this order.  This value is derived from the value in ordering_provider_id_unscrubbed.  This value is derived by combining the values in proehr_first_name and proehr_last_name (not proehr_middle_name) and formatting them as Lastname, Firstname.  When the provider is an organization rather than an individual, this value may not correctly reflect the name due to this automated formatting. \n"
        },
        {
          "name": "ordered_date",
          "description": "Date and time when the order was placed.  This is the key date column for this entity, and is used to populate the StartDate in the rpt.Event table.\n"
        },
        {
          "name": "original_id",
          "description": "ID of the order row in the Staging database, used to tie back to the source system.  This is created by the connector query or direct feed that loads the row from a given source, and is derived from source system column(s) to uniquely identify a row. For a given source, one original ID corresponds to one and only one QDW ID for this entity.  The same original ID value could be found on more than one row if the rows are derived from different sources.\n"
        },
        {
          "name": "from_location_name",
          "description": "Name of the clinical location from which the order was submitted.  This field, along with to_location_name, is useful in documenting the referral process in and out of a clinic.  This value is mapped based on the value in from_location_id_unscrubbed.  If the unscrubbed value cannot be mapped to a location ID, then this is populated with the ID of the default location for that site. This is the name that is displayed in the front end.\n"
        },
        {
          "name": "to_location_name",
          "description": "Name of the clinical location or provider to which the order was submitted, i.e. the location that is being asked perform the diagnostic test or provide follow-up care.  This field, along with from_location_id, is useful in documenting the referral process in and out of a clinic.  \n"
        },
        {
          "name": "order_name",
          "description": "Text description of the item being ordered.  Arcadia does not require these to conform to a specific list, but some source systems have standard descriptions that appear on many orders, such as 'Td vaccine' and 'Lipid Panel'.\n"
        },
        {
          "name": "order_type",
          "description": "General type of the item being ordered, e.g. 'LabReports', 'Referral to Specialist', 'Xrays', 'Procedure', 'Immunization'.  This value is more general than the order_category. This value is derived from the value in order_type_unscrubbed, using mapping rules found in Lookup.ordertype in the Staging database.  When the order_type_unscrubbed value cannot be mapped, this value is set to 'Needs Update' or null.   Used for MU measures only.\n"
        },
        {
          "name": "order_type_unscrubbed",
          "description": "General type of the item being ordered, as specified in the clinical data source.  This value is scrubbed into the order_type column.\n"
        },
        {
          "name": "order_specialty",
          "description": "When the order is for a referral, specialty of the provider to whom the patient is being referred.  This value is derived from the value in order_specialty_unscrubbed, using mapping in Staging table lookup.orderSpecialty.  Currently, there is typically no mapping provided, so this column is not generally populated.\n"
        },
        {
          "name": "order_specialty_unscrubbed",
          "description": "Specialty of the provider to whom the patient is being referred, as specified in the clinical data source.  This value is scrubbed into the order_specialty column.\n"
        },
        {
          "name": "order_category",
          "description": "Name of item being ordered, e.g. 'Mammogram', 'Pap', 'Microalbumin', 'Colonoscopy'.  This value is derived from the value in loinc_code, using mapping rules found in lookup.loinc in the Staging database.  If no loinc mapping is found, then the value is instead derived from the value in order_name, using mapping rules found in Lookup.order in the Staging database.  When the Seeds process cannot map either loinc_code or order_name to a specific value, the value is set to 'Needs Update' (for older connectors) or null (for newer connectors). \n"
        },
        {
          "name": "order_notes",
          "description": "Free-text notes entered by the provider along with this order.\n"
        },
        {
          "name": "order_priority",
          "description": "The priority of completion of the order, as defined by the ordering provider, e.g. 'Stat' or 'Urgent'.  This is the value specified in the clinical data source; values do not conform to any specific list.\n"
        },
        {
          "name": "order_status",
          "description": "Status of the order that has been placed, e.g. 'Completed', 'Ordered', 'Resulted', 'Reviewed'.  This is the value specified in the clinical data source; values do not conform to any specific list.\n"
        },
        {
          "name": "procedure_code",
          "description": "(Typically,) CPT or HCPCS code for the procedure being ordered, if the order is for a procedure or immunization.  Valid CPT codes are formatted either as 5 numeric digits or as 4 numeric digits followed by a single alpha character.  Valid HCPCS codes are formatted either as a single alpha character followed by 4 numeric digits, or as 2 alphanumeric characters.\n"
        },
        {
          "name": "icd9_code",
          "description": "ICD9 diagnosis code for the condition relevant to the item being ordered.\n"
        },
        {
          "name": "icd10_code",
          "description": "ICD10 diagnosis code for the condition relevant to the item being ordered.\n"
        },
        {
          "name": "sequence_number",
          "description": "Sequence number of the order, as specified in the clinical data source.  Relevant when there are multiple orders associated with the same encounter.\n"
        },
        {
          "name": "result_received_date",
          "description": "When the order is for a lab or other diagnostic test, this is the date and time when the results for the ordered item were received.  Typically the time information is not specified.\n"
        },
        {
          "name": "reviewing_provider_NPI",
          "description": "When the order is for a lab or other diagnostic test, this is the National Provider Identifier (NPI) code of the provider who reviewed the results of the ordered item.  This value is mapped based on the value in reviewing_provider_id_unscrubbed.  NPI codes are maintained by CMS and may represent either an individual provider or a healthcare organization.  Valid NPI codes are 10 digits long with no leading zeroes.  NPI codes do not uniquely identify a given provider row.  The same NPI code may be present on multiple provider rows, for example when the clinical data source uses the NPI code for the organization on rows for providers working in that organization who do not have individual NPI codes.  A given provider could also be active at multiple clinical sites, in which case there would be a multiple provider_ids (one per site) for the same NPI code, since a QDW provider_id is used only on data from a single clinical data source.\n"
        },
        {
          "name": "reviewing_provider_name",
          "description": "When the order is for a lab or other diagnostic test, this is the full name of the provider who reviewed the results of the ordered item.  This value is mapped based on the value in reviewing_provider_id_unscrubbed.  This value is derived by combining the values in proehr_first_name and proehr_last_name (not proehr_middle_name) and formatting them as Lastname, Firstname.  When the provider is an organization rather than an individual, this value may not correctly reflect the name due to this automated formatting.\n"
        },
        {
          "name": "result_reviewed_date",
          "description": "When the order is for a lab or other diagnostic test, this is the date and time when the results for the ordered item were reviewed.  Typically the time information is not specified.\n"
        },
        {
          "name": "create_timestamp",
          "description": "Date and time when the record was first inserted into the clinical data source.\n"
        },
        {
          "name": "modify_timestamp",
          "description": "Date and time when the record was last updated in the clinical data source.\n"
        },
        {
          "name": "created_by",
          "description": "User who first inserted the row into the source system, as specified by a user ID known to the source system.\n"
        },
        {
          "name": "modified_by",
          "description": "User who most recently updated the row in the source system, as specified by a user ID known to the source system.\n"
        },
        {
          "name": "entry_timestamp",
          "description": "Date and time when the row was first inserted into the QDW.\n"
        },
        {
          "name": "updated_timestamp",
          "description": "Date and time when the row was last updated in the QDW.\n"
        },
        {
          "name": "delete_ind",
          "description": "Indicates if the record is marked as deleted, either because it was deleted in the clinical data source, or because the connector query changed in a way that makes the record no longer valid.  Values are 'Y' (deleted) and 'N' (not deleted).  If the value is 'Y' then the row should be excluded from all queries.\n"
        },
        {
          "name": "orig_site_id",
          "description": "QDW site ID in integer format of the clinical data source from which this record was obtained.\n"
        },
        {
          "name": "loaded_from_file",
          "description": "Name of the file from which this particular record was first loaded, usually a CSV file. When Arcadia pulls data from an EHR source via Informatica, we automatically embed the following pieces of information in this file name: date and time of the extract, client and source IDs, and connector query version.  When data partners instead send us direct feeds that are loaded directly into staging (i.e. bypassing prestaging), the file name is created by the data partner and therefore may not contain the same type of information.\n"
        },
        {
          "name": "ordering_provider_id_unscrubbed",
          "description": "ID of the provider who placed this order, as specified in the clinical data source.  This value is scrubbed into the ordering_provider_id column.\n"
        },
        {
          "name": "reviewing_provider_id_unscrubbed",
          "description": "When the order is for a lab or other diagnostic test, this is the ID of the provider who reviewed the results of the ordered item, as specified in the clinical data source.  This value is scrubbed into the reviewing_provider_id column.\n"
        },
        {
          "name": "CPOE_ind",
          "description": "Indicates if the medication was ordered using CPOE, or Computerized Physician Order Entry, which is the process of capturing a physician's instructions for a patient's care electronically.  Values are '1' (ordered using CPOE) and '0' (CPOE was not used to order the medication).  Used for MU measures only.\n"
        },
        {
          "name": "linked_image_ind",
          "description": "Indicates that the order is linked to an available image in the clinical data source.  Values are 'Y' (linked to an image) and 'N' (not linked to an image).  Used for MU measures only.\n"
        },
        {
          "name": "loinc_code",
          "description": "Code for the relevant test, measurement, or laboratory observation being ordered, if the order refers to one.  'Logical Observation Identifiers Names and Codes' (LOINC) is a standard code associated with the relevant test, procedure or observation identified.  This is scrubbed into the order_category column.\n"
        },
        {
          "name": "orig_patient_id",
          "description": "ID of the relevant patient, as specified in the clinical data source.\n"
        },
        {
          "name": "orig_encounter_id",
          "description": "Original ID of the relevant encounter row, as specified in the clinical data source.\n"
        },
        {
          "name": "from_location_id_unscrubbed",
          "description": "ID for the clinical location from which the order was submitted, as specified in the clinical data source.  This value is scrubbed into the from_location_id column.  \n"
        },
        {
          "name": "arc_site_id",
          "description": "Arcadia site ID of the clinical data source from which this record was obtained.\n"
        },
        {
          "name": "arc_ordering_provider_id",
          "description": "The ordering provider's Arcadia universal ID.\n"
        },
        {
          "name": "arc_reviewing_provider_id",
          "description": "The reviewing provider's Arcadia universal ID.\n"
        }
      ]
    }
  ]
};
