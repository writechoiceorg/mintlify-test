export const schema = {
  "version": 2,
  "models": [
    {
      "name": "v_immunization",
      "config": {
        "tags": [
          "care_quality_and_program_data"
        ]
      },
      "data_tests": [
        {
          "not_empty": {
            "meta": {
              "requirement": [
                "FDR-1849"
              ]
            }
          }
        }
      ],
      "description": "The immunization list describes patientsâ€™ immunization record/status, either through administration at the point of care, or as reported by the patient, clinician, or another party. This entity may also include vaccine reaction information and the vaccination protocol that was followed. Immunizations must have an indication of vaccinations administered by the recording provider differentiated from those reported by the patient themselves. Furthermore, all vaccination information must be consolidated onto the source systems defined immunization workflow and encoded with SNOMED, CPT, or CVX code sets.    columns:\n",
      "columns": [
        {
          "name": "person_id",
          "description": "QDW person ID for the patient. \n"
        },
        {
          "name": "imm_id",
          "description": "QDW immunization ID in integer format; primary key for this table.  This is generated by Arcadia. This value is used as the IndividualID in the rpt.event table for clinical events.\n"
        },
        {
          "name": "original_id",
          "description": "ID of the immunization row in the Staging database, used to tie back to the source system.  This is created by the connector query or direct feed that loads the row from a given source, and is derived from source system column(s) to uniquely identify a row. For a given source, one original ID corresponds to one and only one QDW ID for this entity.  The same original ID value could be found on more than one row if the rows are derived from different sources.\n"
        },
        {
          "name": "patient_id",
          "description": "QDW patient ID in integer format for the patient whose immunization is recorded.\n"
        },
        {
          "name": "enc_id",
          "description": "QDW encounter ID for the encounter during which the immunization was administered.   This link is required for the immunization to be included in the pseudo claims extract.   Additionally, it is used for location filtering in Arcadia Analytics, because the location is derived from the associated encounter.\n"
        },
        {
          "name": "imm_type",
          "description": "Type of immunization, e.g. 'DTaP', 'DTaP-HepB-IPV', 'MMR', 'HepB', 'Flu'.  This value is derived by the Arcadia Seeds process, based on scrubbing the value from imm_type_unscrubbed using mapping rules found in Lookup.observation in the Staging database.  When the Seeds process cannot map the imm_type_unscrubbed to a specific value, the value is set to 'Needs Update'. \n"
        },
        {
          "name": "completed_date",
          "description": "Date and time when the immunization was administered.  This is the key date column for this entity, and is used to populate the StartDate in the rpt.Event table.\n"
        },
        {
          "name": "cpt_code",
          "description": "CPT or HCPCS code for the procedure performed in administering the immunization.  These codes are sometimes used by measure logic to determine if a certain type of immunization was administered.  Valid CPT codes are formatted either as 5 numeric digits or as 4 numeric digits followed by a single alpha character.  Valid HCPCS codes are formatted either as a single alpha character followed by 4 numeric digits, or as 2 alphanumeric characters.\n"
        },
        {
          "name": "cvx_code",
          "description": "Code for the vaccine administered, according to the HL7 standard for immunization data exchange.  Valid CVX codes are formatted as 2- or 3-digit numeric codes; 2-digit codes may begin with a leading zero.\n"
        },
        {
          "name": "dose",
          "description": "Dose of the vaccine administered, expressed numerically.  Should be used in combination with the value in the units column.  \n"
        },
        {
          "name": "units",
          "description": "Units of measure of dose administered, e.g. 'mL'.\n"
        },
        {
          "name": "lot_number",
          "description": "Lot number of the vaccine administered, generally a string of letters and numbers.\n"
        },
        {
          "name": "manufacturer",
          "description": "Name of the vaccine manufacturer, e.g. 'Sanofi' or 'GlaxoSmithKline'.\n"
        },
        {
          "name": "route",
          "description": "Describes how vaccine is administered, e.g. 'IM' (for Intramuscular) or 'SC' (for Subcutaneous)\n"
        },
        {
          "name": "imm_site",
          "description": "Region of body in which the immunization was administered, e.g. 'Thigh' or 'Right Deltoid'.\n"
        },
        {
          "name": "entry_timestamp",
          "description": "Date and time when the row was first inserted into the QDW.\n"
        },
        {
          "name": "updated_timestamp",
          "description": "Date and time when the row was last updated in the QDW.\n"
        },
        {
          "name": "create_timestamp",
          "description": "Date and time when the record was first inserted into the clinical data source.\n"
        },
        {
          "name": "modify_timestamp",
          "description": "Date and time when the record was last updated in the clinical data source.\n"
        },
        {
          "name": "loaded_from_file",
          "description": "Name of the file from which this particular record was first loaded, usually a CSV file. When Arcadia pulls data from an EHR source via Informatica, we automatically embed the following pieces of information in this file name: date and time of the extract, client and source IDs, and connector query version.  When data partners instead send us direct feeds that are loaded directly into staging (i.e. bypassing prestaging), the file name is created by the data partner and therefore may not contain the same type of information.\n"
        },
        {
          "name": "site_name",
          "description": "Name of the clinical data source from which this record was obtained.\n"
        },
        {
          "name": "orig_site_id",
          "description": "QDW site ID in integer format of the clinical data source from which this record was obtained.\n"
        },
        {
          "name": "delete_ind",
          "description": "Indicates if the record is marked as deleted, either because it was deleted in the clinical data source, or because the connector query changed in a way that makes the record no longer valid.  Values are 'Y' (deleted) and 'N' (not deleted).  If the value is 'Y' then the row should be excluded from all queries.\n"
        },
        {
          "name": "imm_type_unscrubbed",
          "description": "Type of immunization, as specified in the clinical data source.  This value is scrubbed into the imm_type column. \n"
        },
        {
          "name": "hx_data_ind",
          "description": "Indicates whether this record represents information about a historical immunization, i.e. one that the patient reported having received in the past.  Values are 'Y' (this is an historical immunization record) and 'N' (this is a record of an immunization administered at this clinical location), although some sources currently load values of '1' and '0'.  This value is used by the pseudo claims extract.\n"
        }
      ]
    }
  ]
};
